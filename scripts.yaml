  # Triggered in automation by switch.furnace -> ON
  furnace_timer:
    alias: "Resetable Delay to Heat0"
    sequence:
      - service: homeassistant.turn_off
        data:
          entity_id: 
            - script.timer_heat0
            - script.timer_heat1
            - switch.heat1
      - service: homeassistant.turn_on
        data:
          entity_id: 
            - switch.heat0
            - script.timer_heat0 

  timer_heat0:
    alias: "Heat0 Timer"
    sequence:
      - delay:
          minutes: 7
          # Purge and ignition delay
          seconds: 80
      - service: switch.turn_off
        data:
          entity_id: switch.heat0
      - service: homeassistant.turn_on
        data:
          entity_id: 
            - switch.heat1
            - script.timer_heat1    

  timer_heat1:
    alias: "Heat1 Timer"
    sequence:
      - delay:
          minutes: 10
      - service: switch.turn_on
        data:
          entity_id: switch.heat0

  ir_back:
    alias: "Irrigate Back"
    sequence:
      - service: switch.turn_on
        entity_id: switch.back_irrigation
      - delay: '00:{{ states.input_number.slider_delay.state | int }}:00'
      - service: switch.turn_off
        entity_id: switch.back_irrigation

  ir_front:
    alias: "Irrigate Front"
    sequence:
      - service: switch.turn_on
        entity_id: switch.front_irrigation
      - delay: '00:{{ states.input_number.slider_delay.state | int }}:00'
      - service: switch.turn_off
        entity_id: switch.front_irrigation
        
  ir_deck:
    alias: "Irrigate Deck"
    sequence:
      - service: switch.turn_on
        entity_id: switch.deck_irrigation
      - delay: '00:{{ states.input_number.slider_delay.state | int }}:00'
      - service: switch.turn_off
        entity_id: switch.deck_irrigation
